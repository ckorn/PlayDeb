Description: Patch to move from internal lua to system lua
Author: Karl Goetz <karl@kgoetz.id.au>
# Found upstream, not forwarded per se.
Forwarded: https://gna.org/patch/?2747 https://gna.org/bugs/?18263
Last-Update: <2011-08-07>

---
 configure    |    4 ++--
 configure.ac |    4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

Index: freeciv-2.3.2/configure.ac
===================================================================
--- freeciv-2.3.2.orig/configure.ac	2012-03-31 14:35:57.000000000 +0200
+++ freeciv-2.3.2/configure.ac	2012-04-14 17:52:11.058527289 +0200
@@ -882,8 +882,8 @@
 dnl In the future we probably get rid of our own lua tree and use
 dnl lua from system.
 dnl LUA_AS_DEPENDENCY should be empty when using lua outside own our tree.
-LUA_CFLAGS="-I\$(top_srcdir)/dependencies/lua-5.1/src"
-LUA_LIBS="\$(top_builddir)/dependencies/lua-5.1/src/liblua.a"
+LUA_CFLAGS=$(pkg-config lua5.1 --cflags)
+LUA_LIBS="$(pkg-config lua5.1 --libs --static)"
 LUA_AS_DEPENDENCY="$LUA_LIBS"
 AC_SUBST([LUA_CFLAGS])
 AC_SUBST([LUA_LIBS])
Index: freeciv-2.3.2/configure
===================================================================
--- freeciv-2.3.2.orig/configure	2012-03-31 14:37:54.000000000 +0200
+++ freeciv-2.3.2/configure	2012-04-14 17:52:11.066527289 +0200
@@ -26194,8 +26194,8 @@
 done
 
 
-LUA_CFLAGS="-I\$(top_srcdir)/dependencies/lua-5.1/src"
-LUA_LIBS="\$(top_builddir)/dependencies/lua-5.1/src/liblua.a"
+LUA_CFLAGS="$(pkg-config lua5.1 --cflags)"
+LUA_LIBS="$(pkg-config lua5.1 --libs --static)"
 LUA_AS_DEPENDENCY="$LUA_LIBS"
 
 
